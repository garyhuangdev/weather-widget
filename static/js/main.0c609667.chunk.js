(this["webpackJsonpweather-widget"]=this["webpackJsonpweather-widget"]||[]).push([[0],{26:function(e,a,t){e.exports=t.p+"static/media/spinner.445f76bb.gif"},32:function(e,a,t){e.exports=t(60)},38:function(e,a,t){},60:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(18),c=t.n(l),i=(t(37),t(38),t(19)),o=t(20),s=t(21),m=t(29),h=t(23),u=t(30),d=t(28),g=t(65),p=t(61),w=t(25),f=t(62),E="https://api.openweathermap.org/data/2.5/weather?",b="482665c9b71591ca13b5f1137df6ac40",y=function(e){var a=e.data,t=a.weatherData,n=a.title,l=a.temperatureType,c=a.windDisplay,i=t.name,o=t.main.temp,s=Object(d.a)(t.weather,1)[0].icon,m=t.wind.speed,h=function(e){return String(e).replace("n","d")}(s),u=function(e,a){return"celsius"===e?"".concat(parseInt(a)," \xb0C"):"".concat(parseInt(1.8*a+32)," \xb0F")}(l,o);return r.a.createElement(g.a,{className:"shadow rounded mx-auto mx-3 widget-card"},r.a.createElement(g.a.Body,null,r.a.createElement(p.a,null,r.a.createElement(g.a.Title,{className:"h4 ml-3 font-weight-bold"},n||"title of widget")),r.a.createElement(p.a,null,r.a.createElement(w.a,{xs:5},r.a.createElement(f.a,{className:" widget-card__img mt-3",src:"".concat("http://openweathermap.org/img/wn/").concat(h,"@2x.png"),rounded:!0})),r.a.createElement(w.a,{xs:7},r.a.createElement(g.a.Text,{className:"font-weight-light mt-3 mb-0"},i),r.a.createElement(g.a.Text,{className:"font-weight-bolder my-0 widget-card__temperature"},u),r.a.createElement(g.a.Text,null,"hide"===c?"":"Wind  ".concat(m," m/s"))))))},v=t(63),C=t(64),N=t(26),k=t.n(N);function x(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:k.a,style:{width:"200px",margin:"auto",display:"block"},alt:"Loading..."}))}var D=t(27),L=t.n(D),O=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(m.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).state={isLoading:!0,theme:"light-theme",weatherData:"",title:"",temperatureType:"celsius",windDisplay:"display"},t.getWeather=function(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){var a=e.coords.latitude,n=e.coords.longitude;L.a.get("".concat(E,"lat=").concat(a,"&lon=").concat(n,"&units=metric&appid=").concat(b)).then((function(e){t.setState({weatherData:e.data,isLoading:!1}),localStorage.setItem("weatherData",JSON.stringify(e.data))})).catch((function(){return alert("Error fetching new weather")}))})):alert("Browser does not support Geolocation api")},t.loadWeather=function(e){t.setState({weatherData:e,isLoading:!1})},t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("weatherData"));e?this.loadWeather(e):this.getWeather()}},{key:"handleChange",value:function(e){var a=e.target.name;this.setState(Object(i.a)({},a,e.target.value))}},{key:"handleSwitch",value:function(e){var a="light-theme"===this.state.theme?"dark-theme":"light-theme";this.setState({theme:a})}},{key:"render",value:function(){var e=this;return this.state.isLoading?r.a.createElement(x,null):r.a.createElement(v.a,{className:"container p-3 m-xs-0 ".concat(this.state.theme)},r.a.createElement(p.a,null,r.a.createElement(w.a,{className:"col",xs:12,sm:5},r.a.createElement(C.a.Group,{onChange:function(a){return e.handleChange(a)}},r.a.createElement(C.a.Label,{className:"h3 m-3 font-weight-bold"},"Title"),r.a.createElement(C.a.Control,{name:"title",maxLength:"25",type:"text",placeholder:"title of widget"})),r.a.createElement(C.a.Group,{className:"m-3",onChange:function(a){return e.handleChange(a)}},r.a.createElement(C.a.Label,{className:"font-weight-bold"},"Temperature"),r.a.createElement(C.a.Row,{className:"ml-2"},r.a.createElement(C.a.Check,{inline:!0,defaultChecked:!0,type:"radio",label:"C",name:"temperatureType",value:"celsius"}),r.a.createElement(C.a.Check,{inline:!0,type:"radio",label:"F",name:"temperatureType",value:"fahrenheit"}))),r.a.createElement(C.a.Group,{className:"m-3",onChange:function(a){return e.handleChange(a)}},r.a.createElement(C.a.Label,{className:"font-weight-bold"},"Wind"),r.a.createElement(C.a.Row,{className:"ml-2"},r.a.createElement(C.a.Check,{inline:!0,defaultChecked:!0,type:"radio",label:"On",name:"windDisplay",value:"display"}),r.a.createElement(C.a.Check,{inline:!0,type:"radio",label:"Off",name:"windDisplay",value:"hide"})),r.a.createElement(C.a.Label,{className:"font-weight-bold mt-3  "},"Light / Dark theme"),r.a.createElement(C.a.Row,{className:"ml-2"},r.a.createElement(C.a.Check,{onChange:function(a){return e.handleSwitch(a)},type:"switch",id:"theme-switch",label:""})))),r.a.createElement(w.a,{xs:12,sm:7,className:"py-5"},r.a.createElement(y,{data:this.state}))))}}]),a}(n.Component),S=function(){return r.a.createElement("div",{className:"background"},r.a.createElement(O,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.0c609667.chunk.js.map